# TransVideo è§†é¢‘æ™ºèƒ½åˆ†å‰²å·¥å…·

åŸºäº TransNetV2 AI æ¨¡å‹çš„è§†é¢‘åœºæ™¯æ™ºèƒ½åˆ†å‰²æ¡Œé¢åº”ç”¨ï¼Œæ”¯æŒæ‰¹é‡å¤„ç†å’Œå›¾å½¢åŒ–æ“ä½œã€‚

**é¡¹ç›®åœ°å€**: https://github.com/TanJie7/TransVideo

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- **æ‰¹é‡å¤„ç†**: ä¸€é”®å¤„ç†æ•´ä¸ªæ–‡ä»¶å¤¹çš„è§†é¢‘
- **æ™ºèƒ½åœºæ™¯æ£€æµ‹**: ä½¿ç”¨ TransNetV2 æ·±åº¦å­¦ä¹ æ¨¡å‹ç²¾å‡†è¯†åˆ«åœºæ™¯è¾¹ç•Œ
- **å…³é”®å¸§æå–**: è‡ªåŠ¨æå–æ¯ä¸ªåœºæ™¯çš„ç¬¬ä¸€å¸§ä½œä¸ºç¼©ç•¥å›¾
- **å†…ç½®è§†é¢‘é¢„è§ˆ**: ç›´æ¥åœ¨åº”ç”¨å†…æ’­æ”¾æºè§†é¢‘å’Œåˆ†å‰²ç‰‡æ®µ
- **æ–­ç‚¹ç»­ä¼ **: æ”¯æŒä¸­æ–­åç»§ç»­å¤„ç†ï¼Œè‡ªåŠ¨è·³è¿‡å·²å®Œæˆçš„è§†é¢‘
- **åˆå¹¶å¯¼å‡º**: å°†æ‰€æœ‰åˆ†å‰²ç‰‡æ®µåˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œé¡ºåºé‡å‘½å (001.mp4, 002.mp4...)
- **ç°ä»£ UI**: Element Plus é£æ ¼çš„æ¸…çˆ½ç•Œé¢

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- Python 3.9+
- NVIDIA GPU (å¯é€‰ï¼Œç”¨äºåŠ é€Ÿ TensorFlow)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/TanJie7/TransVideo.git
cd TransVideo
```

### 2. åˆ›å»º Conda ç¯å¢ƒ

```bash
conda create -n transvideo python=3.10 -y
conda activate transvideo
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. ä¸‹è½½æ¨¡å‹æƒé‡

æ¨¡å‹æƒé‡æ–‡ä»¶å·²ä¸Šä¼ è‡³ç™¾åº¦ç½‘ç›˜ï¼š

> **ç™¾åº¦ç½‘ç›˜ä¸‹è½½é“¾æ¥**: [è¯·åœ¨æ­¤å¤„å¡«å†™é“¾æ¥]
> 
> **æå–ç **: [è¯·åœ¨æ­¤å¤„å¡«å†™]

ä¸‹è½½åï¼Œå°†å‹ç¼©åŒ…è§£å‹åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®ä¿æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š

```
TransVideo/
â”œâ”€â”€ transnetv2-weights/          â† è§£å‹åçš„æ¨¡å‹æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ saved_model.pb
â”‚   â”œâ”€â”€ variables/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ main.py
â””â”€â”€ ...
```

### 5. è¿è¡Œåº”ç”¨

```bash
conda activate transvideo
python main.py
```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

1. **é€‰æ‹©æ–‡ä»¶å¤¹**: ç‚¹å‡»"æµè§ˆæ–‡ä»¶å¤¹"ï¼Œé€‰æ‹©åŒ…å«è§†é¢‘çš„ç›®å½•
2. **å‹¾é€‰è§†é¢‘**: åœ¨å·¦ä¾§åˆ—è¡¨ä¸­å‹¾é€‰è¦å¤„ç†çš„è§†é¢‘ï¼ˆæ”¯æŒå…¨é€‰/åé€‰ï¼‰
3. **å¼€å§‹å¤„ç†**: ç‚¹å‡»"â–¶ æ™ºèƒ½åˆ†å‰²"æŒ‰é’®
4. **æŸ¥çœ‹ç»“æœ**: ç‚¹å‡»é¢„è§ˆå¡ç‰‡å¯æ’­æ”¾å¯¹åº”çš„åˆ†å‰²ç‰‡æ®µ
5. **åˆå¹¶å¯¼å‡º**: ç‚¹å‡»"ğŸ“¦ åˆå¹¶å¯¼å‡º"å°†æ‰€æœ‰ç‰‡æ®µå¤åˆ¶åˆ°ç»Ÿä¸€æ–‡ä»¶å¤¹

## ğŸ“ è¾“å‡ºç»“æ„

```
è§†é¢‘æºæ–‡ä»¶å¤¹/
â””â”€â”€ output/
    â”œâ”€â”€ è§†é¢‘1/
    â”‚   â”œâ”€â”€ è§†é¢‘1_scene_001.mp4
    â”‚   â””â”€â”€ keyframes/
    â”‚       â””â”€â”€ è§†é¢‘1_scene_001.jpg
    â””â”€â”€ merged/                    # åˆå¹¶å¯¼å‡ºåç”Ÿæˆ
        â”œâ”€â”€ 001.mp4
        â”œâ”€â”€ 002.mp4
        â””â”€â”€ thumbnails/
            â”œâ”€â”€ 001.jpg
            â””â”€â”€ 002.jpg
```

## âš™ï¸ å¯é€‰é…ç½®

### å®‰è£… FFmpegï¼ˆå¦‚æœç³»ç»Ÿæœªå®‰è£…ï¼‰

å¤§å¤šæ•°æƒ…å†µä¸‹ MoviePy ä¼šè‡ªåŠ¨å¤„ç† FFmpegï¼Œå¦‚æœé‡åˆ°é—®é¢˜å¯æ‰‹åŠ¨å®‰è£…ï¼š

**Windows:**
```bash
choco install ffmpeg
# æˆ–ä» https://ffmpeg.org/download.html ä¸‹è½½
```

**macOS:**
```bash
brew install ffmpeg
```

**Linux:**
```bash
sudo apt install ffmpeg
```

## âš ï¸ å¸¸è§é—®é¢˜

### DLL load failed é”™è¯¯
é‡æ–°åˆ›å»ºå¹²å‡€çš„ conda ç¯å¢ƒï¼š
```bash
conda deactivate
conda remove -n transvideo --all
conda create -n transvideo python=3.10 -y
conda activate transvideo
pip install -r requirements.txt
```

### å¤„ç†é€Ÿåº¦æ…¢
ä½¿ç”¨ GPU ç‰ˆæœ¬çš„ TensorFlowï¼š
```bash
pip install tensorflow[and-cuda]
```

## ğŸ“ æŠ€æœ¯æ ˆ

- **AI æ¨¡å‹**: TransNetV2 (TensorFlow)
- **è§†é¢‘å¤„ç†**: MoviePy 2.x + FFmpeg
- **GUI æ¡†æ¶**: PySide6 (Qt6)

## ğŸ“„ è®¸å¯è¯

MIT License
